# –î–µ–ø–ª–æ–π –ø—Ä–æ–µ–∫—Ç–∞ Hoteltroy –Ω–∞ —Å–µ—Ä–≤–µ—Ä

## 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∏ –ø—É—à –≤ GitHub

> –ï—Å–ª–∏ –Ω–µ—Ç —Ç–æ–∫–µ–Ω–∞ –¥–ª—è GitHub, —Å–æ–∑–¥–∞–µ–º Personal Access Token (PAT) –ø—Ä–∏–º–µ—Ä–Ω–æ –Ω–∞ –Ω–µ–¥–µ–ª—é.

```bash
# –î–æ–±–∞–≤–ª—è–µ–º –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ git
git add .

# –§–∏–∫—Å–∏—Ä—É–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º
git commit -m "–°–æ–æ–±—â–µ–Ω–∏–µ: —á—Ç–æ –∏–∑–º–µ–Ω–∏–ª–∏"

# –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ GitHub
–§–æ—Ä–º–∞—Ç –∫–æ–º–∞–Ω–¥—ã —Å —Ç–æ–∫–µ–Ω–æ–º —Ä–∞–±–æ—á–∏–π, –Ω–æ –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SSH-–∫–ª—é—á–∏ –≤–º–µ—Å—Ç–æ —Ç–æ–∫–µ–Ω–∞ –≤ URL, —á—Ç–æ–±—ã –Ω–µ —Å–≤–µ—Ç–∏—Ç—å —Ç–æ–∫–µ–Ω –≤ –∏—Å—Ç–æ—Ä–∏–∏ –∫–æ–º–∞–Ω–¥.
git push https://troyhotel:<YOUR_GITHUB_TOKEN>@github.com/troyhotel/troyhotel.git main

2. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
# –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –ø–æ SSH
ssh root@217.26.31.151
–ü–∞—Ä–æ–ª—å –ª–µ–∂–∏—Ç –Ω–∞ –ø–æ—á—Ç–µ (—Å–µ—Ä–≤–µ—Ä Effusive).

3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
# –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
cd /var/www/hoteltroy

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å git
git status

# –°–±—Ä–∞—Å—ã–≤–∞–µ–º –≤—Å–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git reset --hard

# –£–¥–∞–ª—è–µ–º –Ω–µ–∑–∞–¥–µ–∫–ª–∞—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
git clean -fd

# –û–±–Ω–æ–≤–ª—è–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git pull origin main

# –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –∑–∞–Ω–æ–≤–æ, –æ–±—ã—á–Ω–æ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è
git clone https://troyhotel:<YOUR_GITHUB_TOKEN>@github.com/troyhotel/troyhotel.git .


üîπ git reset --hard –∏ git clean -fd –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—á–∏—â–∞—é—Ç —Ä–∞–±–æ—á—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é, –ø–æ—ç—Ç–æ–º—É –∏—Å–ø–æ–ª—å–∑—É–π —Å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å—é.
üîπ –ü–æ—Å–ª–µ–¥–Ω–∏–π git clone –Ω—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∑–∞–Ω–æ–≤–æ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –≤ —Ç–µ–∫—É—â—É—é –ø–∞–ø–∫—É.


4. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ —Å–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—Å–µ npm –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ (Nuxt 3)
npm run build

5. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ PM2
–í–∞—Ä–∏–∞–Ω—Ç A: –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
# –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–π –ø—Ä–æ—Ü–µ—Å—Å
pm2 delete hoteltroy

# –ó–∞–ø—É—Å–∫–∞–µ–º –Ω–æ–≤—ã–π
pm2 start .output/server/index.mjs --name hoteltroy

# –°–æ—Ö—Ä–∞–Ω—è–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é PM2 (–µ—Å–ª–∏ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ —É–∂–µ –±—ã–ª –Ω–∞—Å—Ç—Ä–æ–µ–Ω, –º–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å)
pm2 save

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –ø—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –ø—Ä–æ–µ–∫—Ç —Å–ª—É—à–∞–µ—Ç –ø–æ—Ä—Ç
pm2 logs hoteltroy

–í–∞—Ä–∏–∞–Ω—Ç B: –ü–æ–ª–Ω—ã–π —Å–±—Ä–æ—Å PM2 (—Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å–µ—Ä—å—ë–∑–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º–∞—Ö)
‚ö†Ô∏è –£–¥–∞–ª—è–µ—Ç –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –∏ –∫–æ–Ω—Ñ–∏–≥–∏ PM2, —á—Ç–æ –º–æ–∂–µ—Ç –ø–æ–≤–ª–∏—è—Ç—å –Ω–∞ –¥—Ä—É–≥–∏–µ –ø—Ä–æ–µ–∫—Ç—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

pm2 kill
rm -rf ~/.pm2

# –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–æ–µ–∫—Ç –∑–∞–Ω–æ–≤–æ
pm2 start .output/server/index.mjs --name hoteltroy

# –°–æ—Ö—Ä–∞–Ω—è–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é PM2, —á—Ç–æ–±—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–ª—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ
pm2 startup
pm2 save

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –ø—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –ø—Ä–æ–µ–∫—Ç —Å–ª—É—à–∞–µ—Ç –ø–æ—Ä—Ç
pm2 logs hoteltroy
```
